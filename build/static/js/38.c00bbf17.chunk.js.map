{"version":3,"sources":["views/base/Holiday/Holiday.js"],"names":["cookies","Cookies","console","log","get","Classes","useState","Holiday","setHoliday","useEffect","axios","BASE_URL","then","res","data","catch","err","require","holidaydetail","setholidaydetail","a","occasion","document","getElementById","value","start_date","end_date","post","gym","status","window","location","reload","error","alert","ocassion","uuid","patch","delete","primary","setPrimary","success","setSuccess","includes","className","onClick","class","xs","lg","map","store","color","getuuid","type","deleteHoliday","show","onClose","size","closeButton","for","id","name","defaultValue","href"],"mappings":"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","file":"static/js/38.c00bbf17.chunk.js","sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport $ from 'jquery';\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CContainer,\r\n  CJumbotron,\r\n  CRow,\r\n  CEmbed,\r\n  CDropdown,\r\n  CDropdownToggle,\r\n  CDropdownDivider,\r\n  CDropdownHeader,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CDropdownItem,\r\n  CDropdownMenu,\r\n  CHeaderNavLink,\r\n  CEmbedItem\r\n} from '@coreui/react'\r\nimport { DocsLink } from 'src/reusable'\r\nimport Cookies from 'universal-cookie';\r\nimport BASE_URL from 'src/views/base';\r\n\r\n\r\nconst cookies = new Cookies();\r\nconsole.log(cookies.get('gym_uuid'))\r\n\r\n\r\nconst Classes = () => {\r\n\r\nconst [Holiday, setHoliday] = useState([])\r\n\r\n\r\nuseEffect(() => {\r\naxios\r\n    .get(BASE_URL + 'gymprofile/holidays/?gym_id=' + cookies.get('gym_uuid'))\r\n    .then(res => {\r\n    console.log(res)\r\n    setHoliday(res.data)\r\n    })\r\n    .catch(err => {\r\n    console.log(err)\r\n    })\r\n}, [])\r\n\r\nconst axios = require('axios');\r\n\r\nconst [holidaydetail, setholidaydetail] = useState([\"ffgyu\",\"fghj\"])\r\n\r\nfunction Clicker(uuid) {\r\n    // alert(uuid);\r\n    setSuccess(!success);\r\n    //  debugger\r\n    axios\r\n      .get(BASE_URL + 'gymprofile/holidays/' + uuid)\r\n      .then(getuuid => {\r\n        console.log(getuuid);\r\n        setholidaydetail(getuuid.data);\r\n      })\r\n\r\n  }\r\n\r\nasync function NewHoliday() {\r\n    // setSuccess(false);\r\n   \r\n    //  debugger\r\n    // var form = document.forms[\"regform\"][\"email\"].value;   \r\n    var occasion = document.getElementById(\"occasion\").value;\r\n    var start_date = document.getElementById(\"start_date\").value;\r\n    var end_date = document.getElementById(\"end_date\").value;\r\n    \r\n    {  \r\n       \r\n        console.log('Trying to send request');\r\n        \r\n        try {\r\n            console.log('Trying');\r\n            let res = await axios.post(BASE_URL + 'gymprofile/holidays/', {\r\n                occasion:occasion,\r\n                start_date:start_date,\r\n                end_date:end_date,\r\n                gym: cookies.get('gym_uuid'),\r\n            });\r\n            if (res.status === 200) {\r\n                //  debugger\r\n                // test for status you want, etc\r\n                console.log(res.status);\r\n                console.log(res.data);\r\n                // alert(res.data.message);\r\n  \r\n                window.location.reload();\r\n               \r\n  \r\n            }\r\n            //  debugger\r\n            // Don't forget to return something\r\n            return res.data\r\n        }\r\n        catch (err) {\r\n            console.error('Signup Failed , Please try again.');\r\n            window.location='/signup';\r\n            alert(err);\r\n        }\r\n    }\r\n}\r\n\r\nasync function UpdateHoliday() {\r\n    // setSuccess(false);\r\n   \r\n    //  debugger\r\n    // var form = document.forms[\"regform\"][\"email\"].value;   \r\n    var ocassion = document.getElementById(\"update_ocassion\").value;\r\n    var start_date = document.getElementById(\"update_start_date\").value;\r\n    var end_date = document.getElementById(\"update_end_date\").value;\r\n    var uuid = document.getElementById(\"update_uuid\").value;\r\n    \r\n    \r\n    {  \r\n       \r\n        console.log('Trying to send request');\r\n        \r\n        try {\r\n            let loader = `<div><div class=\"loader centered\"/></div>`;\r\n            // document.getElementById('reg').innerHTML = loader;\r\n            console.log('Trying');\r\n            let res = await axios.patch(BASE_URL + 'gymprofile/holidays/' + uuid +'/', {\r\n            \r\n                occasion:ocassion,\r\n                start_date:start_date,\r\n                end_date:end_date,\r\n                uuid:uuid,\r\n            });\r\n            if (res.status === 200) {\r\n                //  debugger\r\n                // test for status you want, etc\r\n                console.log(res.status);\r\n                console.log(res.data);\r\n                // alert(res.data.message);\r\n  \r\n                window.location.reload();\r\n            }\r\n            //  debugger\r\n            // Don't forget to return something\r\n            return res.data\r\n        }\r\n        catch (err) {\r\n            console.error('Signup Failed , Please try again.');\r\n            window.location.reload();\r\n            alert(err);\r\n        }\r\n    }\r\n}\r\n\r\nasync function deleteHoliday(uuid) {\r\n    // setSuccess(false);\r\n   console.log(uuid)\r\n    \r\n    {  \r\n       \r\n        console.log('Trying to send request');\r\n        \r\n        try {\r\n            let loader = `<div><div class=\"loader centered\"/></div>`;\r\n            // document.getElementById('reg').innerHTML = loader;\r\n            console.log('Trying');\r\n            let res = await axios.delete(BASE_URL + 'gymprofile/holidays/' + uuid +'/', {\r\n            \r\n                uuid:uuid\r\n            });\r\n            if (res.status === 200) {\r\n                //  debugger\r\n                // test for status you want, etc\r\n                console.log(res.status);\r\n                console.log(res.data);\r\n                // alert(res.data.message);\r\n  \r\n                window.location.reload();\r\n            }\r\n            //  debugger\r\n            // Don't forget to return something\r\n            return res.data\r\n        }\r\n        catch (err) {\r\n            console.error('Signup Failed , Please try again.');\r\n            window.location.reload();\r\n            alert(err);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nconst [modal, setModal] = useState(false)\r\nconst [large, setLarge] = useState(false)\r\nconst [small, setSmall] = useState(false)\r\nconst [primary, setPrimary] = useState(false)\r\nconst [success, setSuccess] = useState(false)\r\nconst [warning, setWarning] = useState(false)\r\nconst [danger, setDanger] = useState(false)\r\nconst [info, setInfo] = useState(false)\r\n\r\nvar perm = cookies.get('perms')\r\n\r\n  if (perm.includes('Holidays')){\r\n\r\n  return (\r\n    <>\r\n   \r\n        <CRow>\r\n      <div className=\"col-md-12\">\r\n              <div className=\"manage_top_btn\">\r\n              <div className=\"manage-btn-left\">\r\n\r\n                \r\n                <CHeaderNavLink>\r\n                <button className=\"mn_btn_1 mr-1\" onClick={() => setPrimary(!primary)}> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add New Holiday </button>\r\n                </CHeaderNavLink>\r\n\r\n               \r\n                </div> \r\n                   {/* <div class=\"btn-group group-btn-main\">\r\n                   \r\n                   <button type=\"button\" class=\"btn btn-primary\">All</button>\r\n                    <button type=\"button\" class=\"btn btn-success\">Adult</button>\r\n                    <button type=\"button\" class=\"btn btn-warning\">Teen</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\">Children</button>\r\n                \r\n                </div> */}\r\n\r\n              </div>\r\n              \r\n          </div>\r\n        <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n         \r\n          <div className=\"col-md-12\">\r\n          <div className=\"manage-table-main\">\r\n                <table class=\"table\">\r\n            <thead>\r\n            <tr>\r\n                <th>Ocassion</th>\r\n                <th>Start Date</th>\r\n                <th>End date</th>\r\n                <th>Action</th>\r\n              \r\n            </tr>\r\n            </thead>\r\n            \r\n            {Holiday.map(store => (\r\n            <tbody>\r\n            <tr>\r\n                <td>{store.occasion}</td>\r\n                <td>{store.start_date}</td>\r\n                <td>{store.end_date}</td>\r\n                <td>\r\n                <CButton color=\"primary\" onClick={() => Clicker(store.uuid)}>Manage</CButton>{' '}\r\n                <button type=\"button\" class=\"btn btn-danger\" onClick={() => deleteHoliday(store.uuid)}><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i></button> \r\n                </td>\r\n            </tr>\r\n             </tbody>))}\r\n        </table>\r\n\r\n    </div>\r\n        </div>\r\n\r\n        \r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n\r\n      <CModal \r\n        show={primary} \r\n        onClose={setPrimary}\r\n        size=\"lg\"\r\n        >\r\n        <CModalHeader closeButton className=\"add-user-modal\">\r\n        <CModalTitle>Add New Holiday</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n        <div class=\"col-md-12\">\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-sm-6\" >\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\" for=\"ocassion\">Ocassion<span class=\"text-danger\"> * </span></label>\r\n                        <input type=\"text\" id=\"occasion\" name=\"ocassion\" class=\"form-control\" />\r\n                </div>\r\n                </div>\r\n\r\n                 <div class=\"col-sm-6\" >\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\" for=\"date\">Start Date<span class=\"text-danger\"> * </span></label>\r\n                        <input type=\"date\" id=\"start_date\" name=\"start_date\" class=\"form-control\" />\r\n                </div>\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\" >\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\" for=\"date\">End Date<span class=\"text-danger\"> * </span></label>\r\n                        <input type=\"date\" id=\"end_date\" name=\"end_date\" class=\"form-control\" />\r\n                </div>\r\n                </div>\r\n\r\n                \r\n\r\n               </div>\r\n\r\n        </div>\r\n        \r\n        </CModalBody>\r\n        <CModalFooter>\r\n            <div className=\"col-md-12 text-center\">\r\n            <CButton color=\"primary\" onClick={NewHoliday}>Save</CButton>{' '}\r\n            <CButton \r\n            color=\"secondary\" \r\n            onClick={() => setPrimary(false)}\r\n            >Close</CButton>\r\n            </div>\r\n           \r\n        </CModalFooter>\r\n        </CModal>\r\n\r\n        <CModal \r\n        show={success} \r\n        onClose={setSuccess}\r\n        size=\"lg\"\r\n        >\r\n        <CModalHeader closeButton className=\"add-user-modal\">\r\n        <CModalTitle>Update Holiday</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n        <div class=\"card-body\">\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-sm-6\" >\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\" for=\"ocassion\">Ocassion <span class=\"text-danger\"> * </span></label>\r\n                        <input type=\"text\" id=\"update_ocassion\" defaultValue={holidaydetail.occasion} name=\"class_topic\" class=\"form-control\"  />\r\n                        <input type='hidden' id='update_uuid' name='update_uuid' value={holidaydetail.uuid}></input>\r\n                </div>\r\n                </div>\r\n\r\n                 <div class=\"col-sm-6\" >\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\" for=\"date\">Start Date<span class=\"text-danger\"> * </span></label>\r\n                        <input type=\"date\" id=\"update_start_date\" defaultValue={holidaydetail.start_date} name=\"update_date\" class=\"form-control\" />\r\n                </div>\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\" >\r\n                    <div class=\"form-group\">\r\n                        <label class=\"form-label\" for=\"date\">End Date<span class=\"text-danger\"> * </span></label>\r\n                        <input type=\"date\" id=\"update_end_date\" defaultValue={holidaydetail.end_date} name=\"update_duration\" class=\"form-control\" />\r\n                </div>\r\n                </div>\r\n\r\n              \r\n        </div>\r\n\r\n        </div>\r\n        \r\n        </CModalBody>\r\n        <CModalFooter>\r\n            <CButton color=\"primary\" onClick={UpdateHoliday} >Save</CButton>{' '}\r\n            <CButton \r\n            color=\"secondary\" \r\n            onClick={() => setSuccess(false)}\r\n            >Close</CButton>\r\n        </CModalFooter>\r\n        </CModal>\r\n\r\n    </>\r\n  )}\r\n  else{\r\n    return window.location.href='#/dashboard'\r\n  }\r\n}\r\n\r\nexport default Classes\r\n"],"sourceRoot":""}