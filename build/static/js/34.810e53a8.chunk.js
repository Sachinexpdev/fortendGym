(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[34],{802:function(e,t,c){"use strict";c.r(t);var n=c(664),s=c.n(n),a=c(665),l=c(659),r=c(2),o=c(657),i=(c(658),c(661)),d=c(660),j=c(24),u=new d.a;console.log(u.get("gym_uuid"));t.default=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1],Object(r.useState)(!1)),d=Object(l.a)(n,2),b=(d[0],d[1],Object(r.useState)(!1)),m=Object(l.a)(b,2),p=(m[0],m[1],Object(r.useState)(!1)),x=Object(l.a)(p,2),h=x[0],O=x[1],f=Object(r.useState)(!1),g=Object(l.a)(f,2),y=g[0],_=g[1],v=Object(r.useState)(!1),w=Object(l.a)(v,2),E=(w[0],w[1],Object(r.useState)(!1)),S=Object(l.a)(E,2),B=(S[0],S[1],Object(r.useState)(!1)),k=Object(l.a)(B,2),q=(k[0],k[1],Object(r.useState)([])),N=Object(l.a)(q,2),C=N[0],I=N[1],T=Object(r.useState)([]),F=Object(l.a)(T,2),A=F[0],P=F[1],V=c(662);Object(r.useEffect)((function(){V.get(i.a+"gymprofile/expense/?gym="+u.get("gym_uuid")).then((function(e){console.log(e),I(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){V.get(i.a+"user/?gym_id="+u.get("gym_uuid")).then((function(e){console.log(e),P(e.data)})).catch((function(e){console.log(e)}))}),[]);var D=Object(r.useState)(["ffgyu","fghj"]),M=Object(l.a)(D,2),z=M[0],J=M[1];function Q(){return(Q=Object(a.a)(s.a.mark((function e(){var t,c,n,a,l,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("expense_name").value,c=document.getElementById("date_paid").value,n=document.getElementById("expense_amount").value,a=document.getElementById("transact_by").value,l=document.getElementById("frequency").value,r=u.get("gym_uuid"),console.log("Trying to send request"),e.prev=7,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=12,V.post(i.a+"gymprofile/expense/",{transaction_reason:t,date_paid:c,transaction_amount:n,transact_by:a,frequency:l,gym:r});case 12:return 200===(o=e.sent).status&&(console.log(o.status),console.log(o.data),window.location.reload()),e.abrupt("return",o.data);case 17:e.prev=17,e.t0=e.catch(7),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))).apply(this,arguments)}function Y(){return(Y=Object(a.a)(s.a.mark((function e(){var t,c,n,a,l,r,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("update_expense_name").value,c=document.getElementById("update_date_paid").value,n=document.getElementById("update_expense_amount").value,a=document.getElementById("update_transact_by").value,l=document.getElementById("update_frequency").value,r=document.getElementById("update_uuid").value,o=u.get("gym_uuid"),console.log("Trying to send request"),e.prev=8,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=13,V.patch(i.a+"gymprofile/expense/"+r+"/",{transaction_reason:t,date_paid:c,transaction_amount:n,transact_by:a,frequency:l,gym:o});case 13:return 200===(d=e.sent).status&&(console.log(d.status),console.log(d.data),window.location.reload()),e.abrupt("return",d.data);case 18:e.prev=18,e.t0=e.catch(8),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}function U(){return(U=Object(a.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log("Trying to send request"),e.prev=2,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=7,V.delete(i.a+"gymprofile/expense/"+t+"/",{uuid:t});case 7:return 200===(c=e.sent).status&&(console.log(c.status),console.log(c.data),window.location.reload()),e.abrupt("return",c.data);case 12:e.prev=12,e.t0=e.catch(2),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return u.get("perms").includes("Expenses")?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(o.wb,{children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage_top_btn",children:Object(j.jsx)("div",{className:"manage-btn-left",children:Object(j.jsxs)("button",{className:"mn_btn_1 mr-1",onClick:function(){return O(!h)},children:[" ",Object(j.jsx)("i",{class:"fa fa-plus-circle","aria-hidden":"true"})," Add Expenses "]})})})}),Object(j.jsx)(o.u,{xs:"12",lg:"12",children:Object(j.jsx)(o.j,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage-table-main",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name Expenses"}),Object(j.jsx)("th",{children:"Date Paid"}),Object(j.jsx)("th",{children:"Amount"}),Object(j.jsx)("th",{children:"Frequency"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:C.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.transaction_reason}),Object(j.jsx)("td",{children:e.date_paid}),Object(j.jsx)("td",{children:e.transaction_amount}),Object(j.jsx)("td",{children:e.frequency}),Object(j.jsxs)("td",{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return t=e.uuid,_(!y),void V.get(i.a+"gymprofile/expense/"+t).then((function(e){console.log(e),J(e.data)}));var t},children:"Manage"})," ",Object(j.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return function(e){return U.apply(this,arguments)}(e.uuid)},children:Object(j.jsx)("i",{class:"fa fa-trash-o","aria-hidden":"true"})})]})]})}))})]})})})})})]}),Object(j.jsxs)(o.gb,{show:h,onClose:O,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Add Expenses"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"col-md-12",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the expenses"}),Object(j.jsx)("input",{type:"text",id:"expense_name",name:"expense_name",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Date Paid "}),Object(j.jsx)("input",{type:"date",id:"date_paid",name:"date_paid",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_amount",children:"Amount "}),Object(j.jsx)("input",{type:"text",id:"expense_amount",name:"expense_amount",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"transact_by",children:"Transact By "}),Object(j.jsx)("select",{id:"transact_by",class:"form-control",children:A.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.first_name," "]})}))})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"transact_by",children:"Frequency "}),Object(j.jsxs)("select",{id:"frequency",class:"form-control",children:[Object(j.jsx)("option",{children:"Monthly"}),Object(j.jsx)("option",{children:"Quaterly"}),Object(j.jsx)("option",{children:"Yearly"}),Object(j.jsx)("option",{children:"One Time"})]})]})})]})})}),Object(j.jsx)(o.ib,{children:Object(j.jsxs)("div",{className:"col-md-12 text-center",children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return Q.apply(this,arguments)},children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return O(!1)},children:"Close"})]})})]}),Object(j.jsxs)(o.gb,{show:y,onClose:_,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Update Expense"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"card-body",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the expenses"}),Object(j.jsx)("input",{type:"text",defaultValue:z.transaction_reason,id:"update_expense_name",name:"udpate_expense_name",class:"form-control"}),Object(j.jsx)("input",{type:"hidden",value:z.uuid,id:"update_uuid"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Date Paid "}),Object(j.jsx)("input",{type:"date",id:"update_date_paid",defaultValue:z.date_paid,name:"update_date_paid",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_amount",children:"Amount "}),Object(j.jsx)("input",{type:"text",id:"update_expense_amount",defaultValue:z.transaction_amount,name:"update_expense_amount",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"transact_by",children:"Transact By "}),Object(j.jsx)("select",{id:"update_transact_by",defaultValue:z.transact_by,class:"form-control",children:A.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.first_name," "]})}))})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"transact_by",children:"Frequency "}),Object(j.jsxs)("select",{id:"update_frequency",class:"form-control",children:[Object(j.jsx)("option",{children:"Monthly"}),Object(j.jsx)("option",{children:"Quaterly"}),Object(j.jsx)("option",{children:"Yearly"}),Object(j.jsx)("option",{children:"One Time"})]})]})})]})})}),Object(j.jsxs)(o.ib,{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return Y.apply(this,arguments)},children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return _(!1)},children:"Close"})]})]})]}):window.location.href="#/dashboard"}}}]);
//# sourceMappingURL=34.810e53a8.chunk.js.map