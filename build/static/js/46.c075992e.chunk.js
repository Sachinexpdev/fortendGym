(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[46],{808:function(e,t,c){"use strict";c.r(t);var n=c(664),s=c.n(n),a=c(665),l=c(659),r=c(2),o=(c(666),c(657)),i=(c(658),c(661)),d=c(660),j=c(24),u=new d.a;console.log(u.get("gym_uuid"));t.default=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=(t[0],t[1],Object(r.useState)(!1)),d=Object(l.a)(n,2),p=(d[0],d[1],Object(r.useState)(!1)),b=Object(l.a)(p,2),m=(b[0],b[1],Object(r.useState)(!1)),x=Object(l.a)(m,2),h=x[0],O=x[1],f=Object(r.useState)(!1),g=Object(l.a)(f,2),y=g[0],v=g[1],_=Object(r.useState)(!1),w=Object(l.a)(_,2),S=(w[0],w[1],Object(r.useState)(!1)),E=Object(l.a)(S,2),I=(E[0],E[1],Object(r.useState)(!1)),B=Object(l.a)(I,2),k=(B[0],B[1],Object(r.useState)([])),T=Object(l.a)(k,2),C=T[0],N=T[1],D=Object(r.useState)([]),A=Object(l.a)(D,2),V=A[0],F=A[1],J=c(662);Object(r.useEffect)((function(){J.get(i.a+"gymprofile/online/?gym="+u.get("gym_uuid")).then((function(e){console.log(e),N(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){J.get(i.a+"gymprofile/instructor/?gym_id="+u.get("gym_uuid")).then((function(e){console.log(e),F(e.data)})).catch((function(e){console.log(e)}))}),[]);var q=Object(r.useState)([]),M=Object(l.a)(q,2),U=M[0],z=M[1];function Q(){return(Q=Object(a.a)(s.a.mark((function e(){var t,c,n,a,l,r,o,d,j,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("topic").value,c=document.getElementById("description").value,n=document.querySelector("#img"),a=document.getElementById("date").value,l=document.getElementById("type").value,r=document.getElementById("duration").value,o=document.getElementById("max_strength").value,d=document.getElementById("instructor").value,(j=new FormData).append("topic",t),j.append("description",c),j.append("img",n.files[0]),j.append("date",a),j.append("Type",l),j.append("duration",r),j.append("max_strength",o),j.append("online_instructor",d),j.append("gym",u.get("gym_uuid")),e.prev=18,console.log("Trying"),p={method:"post",url:i.a+"gymprofile/online/",headers:{"content-type":"multipart/form-data; boundary=".concat(j._boundary)},data:j},e.next=23,J(p).then((function(e){return console.log(JSON.stringify(e.data)),200===e.status&&(200===e.status?window.location.reload():alert("BAD REQUEST")),e.data}));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(18),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[18,25]])})))).apply(this,arguments)}function R(){return(R=Object(a.a)(s.a.mark((function e(){var t,c,n,a,l,r,o,d,j,p,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("update_topic").value,c=document.getElementById("update_description").value,n=document.querySelector("#update_img"),a=document.getElementById("update_date").value,l=document.getElementById("update_type").value,r=document.getElementById("update_duration").value,o=document.getElementById("update_max_strength").value,d=document.getElementById("update_instructor").value,j=document.getElementById("update_uuid").value,(p=new FormData).append("topic",t),p.append("description",c),p.append("date",a),p.append("Type",l),p.append("duration",r),p.append("max_strength",o),p.append("online_instructor",d),p.append("gym",u.get("gym_uuid")),p.append("uuid",j),n.files[0]&&p.append("img",n.files[0]),e.prev=20,console.log("Trying"),b={method:"patch",url:i.a+"gymprofile/online/"+j+"/",headers:{"content-type":"multipart/form-data; boundary=".concat(p._boundary)},data:p},e.next=25,J(b).then((function(e){return console.log(JSON.stringify(e.data)),200===e.status&&(200===e.status?window.location.reload():alert("BAD REQUEST")),e.data}));case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),console.error(e.t0);case 30:case"end":return e.stop()}}),e,null,[[20,27]])})))).apply(this,arguments)}function P(){return(P=Object(a.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log("Trying to send request"),e.prev=2,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=7,J.delete(i.a+"gymprofile/online/"+t+"/",{uuid:t});case 7:return 200===(c=e.sent).status&&(console.log(c.status),console.log(c.data),window.location.reload()),e.abrupt("return",c.data);case 12:e.prev=12,e.t0=e.catch(2),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(o.wb,{children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage_top_btn",children:Object(j.jsx)("div",{className:"manage-btn-left",children:Object(j.jsxs)("button",{className:"mn_btn_1 mr-1",onClick:function(){return O(!h)},children:[" ",Object(j.jsx)("i",{class:"fa fa-plus-circle","aria-hidden":"true"})," Add Online "]})})})}),Object(j.jsx)(o.u,{xs:"12",lg:"12",children:Object(j.jsx)(o.j,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage-table-main",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Topic"}),Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Instructor"}),Object(j.jsx)("th",{class:"text-center",children:"Active/InActive"})]})}),Object(j.jsx)("tbody",{children:C.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.topic}),Object(j.jsx)("td",{children:e.Type}),Object(j.jsx)("td",{children:e.date}),Object(j.jsx)("th",{children:e.online_instructor}),Object(j.jsx)("td",{class:"text-center",children:Object(j.jsxs)("label",{class:"switch",children:[Object(j.jsx)("input",{type:"checkbox"}),Object(j.jsx)("span",{class:"slider round"})]})}),Object(j.jsxs)("td",{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return t=e.uuid,v(!y),void J.get(i.a+"gymprofile/online/"+t).then((function(e){console.log(e),z(e.data)}));var t},children:"Manage"})," ",Object(j.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return function(e){return P.apply(this,arguments)}(e.uuid)},children:Object(j.jsx)("i",{class:"fa fa-trash-o","aria-hidden":"true"})})]})]})}))})]})})})})})]}),Object(j.jsxs)(o.gb,{show:h,onClose:O,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Add Online"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"col-md-12",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the Topic"}),Object(j.jsx)("input",{type:"text",id:"topic",name:"topic",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Description"}),Object(j.jsx)("textarea",{type:"text",id:"description",name:"description",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Image "}),Object(j.jsx)("input",{type:"file",id:"img",name:"img"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Date"}),Object(j.jsx)("input",{type:"date",id:"date",name:"date",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Type"}),Object(j.jsx)("input",{type:"text",id:"type",name:"type",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Duration"}),Object(j.jsx)("input",{type:"text",id:"duration",name:"duration",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Max Strength"}),Object(j.jsx)("input",{type:"text",id:"max_strength",name:"max_strength",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Instructor"}),Object(j.jsx)("select",{id:"instructor",class:"form-control",children:V.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.instructor_info," "]})}))})]})})]})})}),Object(j.jsx)(o.ib,{children:Object(j.jsxs)("div",{className:"col-md-12 text-center",children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return Q.apply(this,arguments)},children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return O(!1)},children:"Close"})]})})]}),Object(j.jsxs)(o.gb,{show:y,onClose:v,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Update Online"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"card-body",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the Topic"}),Object(j.jsx)("input",{type:"text",id:"update_topic",defaultValue:U.topic,name:"update_topic",class:"form-control"}),Object(j.jsx)("input",{type:"hidden",value:U.uuid,id:"update_uuid"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Description"}),Object(j.jsx)("textarea",{type:"text",defaultValue:U.description,id:"update_description",name:"update_description",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Image"}),Object(j.jsx)("br",{}),Object(j.jsxs)("label",{children:["Current image - ",U.img,"  "]}),Object(j.jsx)("input",{type:"file",id:"update_img",name:"update_img"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Date"}),Object(j.jsx)("input",{type:"date",id:"update_date",defaultValue:U.date,name:"update_date",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Type"}),Object(j.jsx)("input",{type:"text",id:"update_type",defaultValue:U.Type,name:"update_type",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Duration"}),Object(j.jsx)("input",{type:"text",defaultValue:U.duration,id:"update_duration",name:"update_duration",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Max Strength"}),Object(j.jsx)("input",{type:"text",defaultValue:U.max_strength,id:"update_max_strength",name:"max_strength",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Instructor"}),Object(j.jsx)("br",{}),Object(j.jsxs)("label",{children:["Current  - ",U.online_instructor]}),Object(j.jsx)("select",{id:"update_instructor",class:"form-control",children:V.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.instructor_info," "]})}))})]})})]})})}),Object(j.jsxs)(o.ib,{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return R.apply(this,arguments)},children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return v(!1)},children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=46.c075992e.chunk.js.map