(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[49],{809:function(e,t,c){"use strict";c.r(t);var s=c(664),l=c.n(s),n=c(665),r=c(659),a=c(2),o=c(657),i=(c(658),c(661)),d=c(660),j=c(24),u=new d.a;console.log(u.get("gym_uuid"));t.default=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),s=(t[0],t[1],Object(a.useState)(!1)),d=Object(r.a)(s,2),b=(d[0],d[1],Object(a.useState)(!1)),h=Object(r.a)(b,2),O=(h[0],h[1],Object(a.useState)(!1)),x=Object(r.a)(O,2),m=x[0],p=x[1],f=Object(a.useState)(!1),g=Object(r.a)(f,2),v=g[0],y=g[1],_=Object(a.useState)(!1),w=Object(r.a)(_,2),C=w[0],k=w[1],S=Object(a.useState)(!1),N=Object(r.a)(S,2),E=N[0],B=N[1],I=Object(a.useState)(!1),z=Object(r.a)(I,2),P=(z[0],z[1],Object(a.useState)(!1)),R=Object(r.a)(P,2),A=(R[0],R[1],Object(a.useState)(!1)),T=Object(r.a)(A,2),U=(T[0],T[1],Object(a.useState)([])),D=Object(r.a)(U,2),M=D[0],F=D[1],q=Object(a.useState)([]),J=Object(r.a)(q,2),V=J[0],G=J[1],H=Object(a.useState)([]),K=Object(r.a)(H,2),L=K[0],Q=K[1],W=c(662);function X(){return Y.apply(this,arguments)}function Y(){return(Y=Object(n.a)(l.a.mark((function e(){var t,c,s,n,r,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("code").value,c=document.getElementById("discount").value,s=document.getElementById("start_date").value,n=document.getElementById("end_date").value,r=document.getElementById("max_usage").value,a=document.getElementById("ruleset").value,console.log("Trying to send request"),e.prev=8,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=13,W.post(i.a+"payments/promocodes/",{code:t,discount:c,start_date:s,end_date:n,max_usage:r,ruleset:a});case 13:return 201===(o=e.sent).status&&(console.log(o.status),console.log(o.data),window.location.reload()),e.abrupt("return",o.data);case 18:e.prev=18,e.t0=e.catch(8),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=Object(n.a)(l.a.mark((function e(){var t,c,s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("update_instructor_info").value,c=document.getElementById("update_specialization").value,s=u.get("gym_uuid"),n=document.getElementById("update_uuid").value,console.log("Trying to send request"),e.prev=5,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=10,W.patch(i.a+"gymprofile/instructor/"+n+"/",{instructor_info:t,instructor_specializaton:c,gym:s});case 10:return 200===(r=e.sent).status&&(console.log(r.status),console.log(r.data),window.location.reload()),e.abrupt("return",r.data);case 15:e.prev=15,e.t0=e.catch(5),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(n.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log("Trying to send request"),e.prev=2,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=7,W.delete(i.a+"gymprofile/instructor/"+t+"/",{uuid:t});case 7:return 200===(c=e.sent).status&&(console.log(c.status),console.log(c.data),window.location.reload()),e.abrupt("return",c.data);case 12:e.prev=12,e.t0=e.catch(2),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){W.get(i.a+"payments/promocodes/").then((function(e){console.log(e),F(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){W.get(i.a+"payments/rulesets").then((function(e){console.log(e),G(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Promocodes"}),Object(j.jsxs)(o.wb,{children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage_top_btn",children:Object(j.jsx)("div",{className:"manage-btn-left",children:Object(j.jsxs)("button",{className:"mn_btn_1 mr-1",onClick:function(){return p(!m)},children:[" ",Object(j.jsx)("i",{class:"fa fa-plus-circle","aria-hidden":"true"})," Add Promocode "]})})})}),Object(j.jsx)(o.u,{xs:"12",lg:"12",children:Object(j.jsx)(o.j,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage-table-main",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Code"}),Object(j.jsx)("th",{children:"Discount"}),Object(j.jsx)("th",{children:"Start Date"}),Object(j.jsx)("th",{children:"End Date"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:M.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.code}),Object(j.jsx)("td",{children:e.discount}),Object(j.jsx)("td",{children:e.start_date}),Object(j.jsx)("td",{children:e.end_date}),Object(j.jsxs)("td",{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return t=e.uuid,B(!E),void W.get(i.a+"gymprofile/instructor/"+t).then((function(e){console.log(e),Q(e.data)}));var t},children:"Manage"})," ",Object(j.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return ee(e.uuid)},children:Object(j.jsx)("i",{class:"fa fa-trash-o","aria-hidden":"true"})})]})]})}))})]})})})})})]}),Object(j.jsx)("h3",{children:"Rulesets"}),Object(j.jsxs)(o.wb,{children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage_top_btn",children:Object(j.jsx)("div",{className:"manage-btn-left",children:Object(j.jsx)("a",{href:"#/base/Ruleset",children:Object(j.jsxs)("button",{className:"mn_btn_1 mr-1",onClick:"#/base/Ruleset",children:[" ",Object(j.jsx)("i",{class:"fa fa-plus-circle","aria-hidden":"true"})," Add Ruleset "]})})})})}),Object(j.jsx)(o.u,{xs:"12",lg:"12",children:Object(j.jsx)(o.j,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Ruleset"}),Object(j.jsx)("th",{children:"Max Usage/User"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:V.map((function(e){return Object(j.jsxs)("tr",{children:[""==e.gyms_ruleset?Object(j.jsx)("td",{children:"All gyms"}):Object(j.jsx)("td",{children:e.gyms_ruleset}),Object(j.jsx)("td",{children:e.max_uses_rule}),Object(j.jsxs)("td",{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return t=e.uuid,k(!C),void W.get(i.a+"gymprofile/instructor/"+t).then((function(e){console.log(e),Q(e.data)}));var t},children:"Manage"})," ",Object(j.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return ee(e.uuid)},children:Object(j.jsx)("i",{class:"fa fa-trash-o","aria-hidden":"true"})})]})]})}))})]})})})})]}),Object(j.jsxs)(o.gb,{show:m,onClose:p,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Add Promocode"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"col-md-12",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Code"}),Object(j.jsx)("input",{type:"text",id:"code",name:"code",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Discount"}),Object(j.jsx)("input",{type:"number",id:"discount",name:"discount",class:"form-control"}),Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Is Percent"}),Object(j.jsx)("input",{type:"checkbox",id:"is_perc"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Start Date"}),Object(j.jsx)("input",{type:"date",id:"start_date",name:"start_date",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"End date"}),Object(j.jsx)("input",{type:"date",id:"end_date",name:"end_date",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Max Usage"}),Object(j.jsx)("input",{type:"number",id:"max_usage",name:"max_usage",class:"form-control"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Ruleset"}),Object(j.jsx)("select",{id:"ruleset",class:"form-control",children:V.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.gyms_ruleset," "]})}))})]})})]})})}),Object(j.jsx)(o.ib,{children:Object(j.jsxs)("div",{className:"col-md-12 text-center",children:[Object(j.jsx)(o.f,{color:"primary",onClick:X,children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return p(!1)},children:"Close"})]})})]}),Object(j.jsxs)(o.gb,{show:v,onClose:y,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Add Promocode"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"col-md-12",children:Object(j.jsx)("div",{class:"row",children:Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Code"}),Object(j.jsx)("input",{type:"text",id:"code",name:"code",class:"form-control"})]})})})})}),Object(j.jsx)(o.ib,{children:Object(j.jsxs)("div",{className:"col-md-12 text-center",children:[Object(j.jsx)(o.f,{color:"primary",onClick:X,children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return y(!1)},children:"Close"})]})})]}),Object(j.jsxs)(o.gb,{show:C,onClose:k,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{})}),Object(j.jsx)(o.hb,{children:Object(j.jsxs)("div",{class:"card-body",children:[Object(j.jsx)("h3",{children:"Ruleset"}),Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Gym Ruleset"}),Object(j.jsx)("select",{id:"instructor_name",class:"form-control",children:V.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.gyms_ruleset," "]})}))})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Max Usage / User"}),Object(j.jsx)("select",{id:"instructor_name",class:"form-control",children:V.map((function(e){return Object(j.jsxs)("option",{value:e.uuid,children:[" ",e.max_uses_rule," "]})}))})]})})]})]})}),Object(j.jsxs)(o.ib,{children:[Object(j.jsx)(o.f,{color:"primary",onClick:Z,children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return B(!1)},children:"Close"})]})]}),Object(j.jsxs)(o.gb,{show:E,onClose:B,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Update Expense"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"card-body",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the instructor"}),Object(j.jsx)("select",{id:"update_instructor_info",class:"form-control",children:V.map((function(e){return Object(j.jsxs)("option",{defaultValue:L.instructor_info,value:e.uuid,children:[" ",e.first_name," "]})}))}),Object(j.jsx)("input",{type:"hidden",value:L.uuid,id:"update_uuid"})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{class:"form-label",for:"date_paid",children:"Specialization "}),Object(j.jsx)("input",{type:"text",id:"update_specialization",defaultValue:L.instructor_specializaton,name:"update_date_paid",class:"form-control"})]})})]})})}),Object(j.jsxs)(o.ib,{children:[Object(j.jsx)(o.f,{color:"primary",onClick:Z,children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return B(!1)},children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=49.eec02eac.chunk.js.map