{"version":3,"sources":["views/base/Invoicing/Invoicing.js"],"names":["cookies","Cookies","console","log","get","Invoicing","axios","require","useState","getinvoice","setgetinstructor","useEffect","BASE_URL","then","res","data","catch","err","invoicedetail","setgetcourse","primary","setPrimary","success","setSuccess","includes","className","to","class","type","xs","lg","map","store","subscription_user","package","created_at","fee_status","amount","color","onClick","uuid","getuuid","show","onClose","size","closeButton","href","email","ph_no","passes","subscription_validity","window","location"],"mappings":"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","file":"static/js/41.77af9696.chunk.js","sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CContainer,\r\n  CJumbotron,\r\n  CHeaderNavLink,\r\n  CRow,\r\n  CEmbed,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CEmbedItem\r\n} from '@coreui/react'\r\nimport { DocsLink } from 'src/reusable'\r\nimport BASE_URL from 'src/views/base';\r\nimport Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\nconsole.log(cookies.get('gym_uuid'))\r\n\r\n\r\n\r\n\r\nconst Invoicing = () => {\r\n\r\n\r\nconst axios = require('axios');\r\nconst [getinvoice, setgetinstructor] = useState([])\r\n\r\nuseEffect(() => {\r\n    axios\r\n    .get(BASE_URL + 'payments/invoice/?gym='+cookies.get('gym_uuid'))\r\n    .then(res => {\r\n        console.log(res)\r\n        setgetinstructor(res.data)\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n    })\r\n}, [])\r\n\r\n\r\nconst [invoicedetail, setgetcourse] = useState([])\r\n\r\nfunction Clicker(uuid) {\r\n    // alert(uuid);\r\n    setSuccess(!success)\r\n    setPrimary(!primary);\r\n    //  debugger\r\n    axios\r\n      .get(BASE_URL + 'payments/invoice/' + uuid)\r\n      .then(getuuid => {\r\n        console.log(getuuid);\r\n        setgetcourse(getuuid.data);\r\n      })\r\n\r\n  }\r\n\r\n\r\nconst [modal, setModal] = useState(false)\r\nconst [large, setLarge] = useState(false)\r\nconst [small, setSmall] = useState(false)\r\nconst [primary, setPrimary] = useState(false)\r\nconst [success, setSuccess] = useState(false)\r\nconst [warning, setWarning] = useState(false)\r\nconst [danger, setDanger] = useState(false)\r\nconst [info, setInfo] = useState(false)\r\n\r\nvar perm = cookies.get('perms')\r\n\r\nif (perm.includes('Billing')){\r\n  return (\r\n    <>\r\n   \r\n\r\n      <CRow>\r\n\r\n      <div className=\"col-md-12\">\r\n              <div className=\"manage_top_btn\">\r\n              <div className=\"manage-btn-left\">\r\n\r\n                \r\n                <CHeaderNavLink to=\"/base/Promocodes\">\r\n                <button className=\"mn_btn_1 mr-1\" >\r\n                   <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> \r\n                     Promocodes\r\n                </button>\r\n                </CHeaderNavLink>\r\n\r\n                {/* <CHeaderNavLink to=\"ClassCategories/ClassCategories\">\r\n                <button className=\"mn_btn_1 mr-1\">\r\n                <i class=\"fa fa-list-alt\" aria-hidden=\"true\"></i>\r\n                Categories </button>\r\n               \r\n                </CHeaderNavLink> */}\r\n               \r\n                  \r\n                </div> \r\n                   <div class=\"btn-group group-btn-main\">\r\n                   \r\n                   <button type=\"button\" class=\"btn btn-primary\">All</button>\r\n                    <button type=\"button\" class=\"btn btn-success\">Success</button>\r\n                    <button type=\"button\" class=\"btn btn-warning\">Refund</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\">Failed</button>\r\n                \r\n                </div>\r\n\r\n              </div>\r\n              \r\n          </div>\r\n        \r\n     \r\n        <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n         \r\n          <div className=\"col-md-12\">\r\n          <div className=\"manage-table-main\">\r\n                <table class=\"table\">\r\n            <thead>\r\n            <tr class=\"brd-none\">\r\n                <th>Customer</th>\r\n                <th>Type</th>\r\n                <th>Order Date</th>\r\n                <th>Payment Status</th>\r\n                <th>Amount</th>\r\n                <th>Action</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {getinvoice.map(store=>(\r\n            <tr>\r\n                <td>{store.subscription_user}</td>\r\n                <td>{store.package}</td>\r\n                <td>{store.created_at}</td>\r\n                <td>\r\n                <button type=\"button\" class=\"btn btn-success\">{store.fee_status}</button>\r\n                </td>\r\n                <td>{store.amount}</td>\r\n               \r\n                <td>\r\n                <CButton color=\"primary\" onClick={() => Clicker(store.uuid)}>Manage</CButton>{' '}\r\n                </td>\r\n\r\n            </tr>\r\n            ))}\r\n            \r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n        </div>\r\n\r\n        \r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n\r\n      <CModal \r\n        show={success} \r\n        onClose={setSuccess}\r\n        size=\"lg\"\r\n        >\r\n        <CModalHeader closeButton className=\"add-user-modal\">\r\n        <CModalTitle>Invoice</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n\r\n             <div className=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n          <div class=\"card mr-0\">\r\n\r\n            <div class=\"card-header d-flex align-items-center pd-lr-0 pd-top-0\">\r\n                Invoice<strong></strong>\r\n                <a class=\"btn btn-sm btn-secondary mfs-auto mfe-1 d-print-none\" href=\"#\">\r\n                    \r\n                      Print</a>\r\n                <a class=\"btn btn-sm btn-danger mfe-1 d-print-none\" href=\"#\">\r\n                    \r\n                      Delete</a></div>\r\n            <div class=\"card-body pd-lr-0\">\r\n                <div class=\"row mb-4\">\r\n\r\n                    <div class=\"col-sm-12 \">\r\n                        <h5 class=\"\">Details </h5>\r\n                    </div>\r\n                    <div class=\"col-sm-4 inv-details\">\r\n                       \r\n                        <div>Invoice Date : {invoicedetail.created_at}</div>\r\n                        <div>Email: {invoicedetail.email}</div>\r\n                        <div>Phone number: {invoicedetail.ph_no}</div>\r\n                       \r\n                    </div>\r\n\r\n                    <div class=\"col-sm-4 inv-details\">\r\n                   \r\n                        <div>Payment type : CASH </div>\r\n                        <div>Payment Status: <span class=\"act\"> Paid </span>  </div>\r\n                        <div>Status: <span class=\"act\"> Active </span> </div>\r\n                       \r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div class=\"table-responsive-sm\">\r\n                    <table class=\"table table-striped\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th class=\"center\">#</th>\r\n                                <th>Package</th>\r\n                                <th>Passes</th>\r\n                                <th>Valid upto</th>\r\n                                <th>Price</th>\r\n                                \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                               \r\n                                <td class=\"\">1</td>\r\n                                <td class=\"\">{invoicedetail.package}</td>\r\n                            \r\n                                <td class=\"\">{invoicedetail.passes}</td>\r\n                                <td class=\"\">{invoicedetail.subscription_validity}</td>\r\n                                <td class=\"\">${invoicedetail.amount}</td>\r\n                            </tr>\r\n                         </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"row\">\r\n                   \r\n                    <div class=\"col-lg-4 col-sm-5 ml-auto\">\r\n                        <table class=\"table table-clear\">\r\n                            <tbody>\r\n                                {/* <tr>\r\n                                    <td class=\"left\"><strong>Subtotal</strong></td>\r\n                                    <td class=\"right\">$8.497,00</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td class=\"left\"><strong>Discount (20%)</strong></td>\r\n                                    <td class=\"right\">$1,699,40</td>\r\n                                </tr> */}\r\n                                <tr>\r\n                                    <td class=\"left\"><strong>Total</strong></td>\r\n                                    <td class=\"right\"><strong>${invoicedetail.amount}</strong></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        {/* <a class=\"btn btn-success\" href=\"#\">\r\n                      Proceed </a> */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        \r\n        </CModalBody>\r\n      \r\n        </CModal>\r\n\r\n      \r\n    </>\r\n  )}\r\nelse{\r\n  return window.location.href='#/dashboard'\r\n}\r\n}\r\n\r\nexport default Invoicing\r\n"],"sourceRoot":""}