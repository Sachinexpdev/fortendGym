(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[51],{815:function(e,t,r){"use strict";r.r(t);var c=r(664),a=r.n(c),n=r(665),s=r(659),o=r(2),l=(r(666),r(657)),i=(r(658),r(660)),d=r(661),j=r(24),u=new i.a;console.log(u.get("gym_uuid"));t.default=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],t=new Date,c=e[t.getMonth()-1],i=e[t.getMonth()-2],b=e[t.getMonth()-3],p=r(662),h=Object(o.useState)([]),O=Object(s.a)(h,2),m=O[0],x=O[1];function g(){return(g=Object(n.a)(a.a.mark((function e(){var t,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("start_date").value,r=document.getElementById("end_date").value,console.log("Trying to send request"),e.prev=3,console.log("Trying"),e.next=7,p.post(d.a+"gymprofile/dash/",{start_date:t,end_date:r,gym_id:u.get("gym_uuid")});case 7:return 200===(c=e.sent).status&&(console.log(c.data.data),x(c.data.data)),e.abrupt("return",c.data);case 12:e.prev=12,e.t0=e.catch(3),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function f(e){return y.apply(this,arguments)}function y(){return(y=Object(n.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Trying to send request"),e.prev=1,console.log("Trying"),e.next=5,p.post(d.a+"gymprofile/dash/",{month:t,gym_id:u.get("gym_uuid")});case 5:return 200===(r=e.sent).status&&(console.log(r.data.data),x(r.data.data)),e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(1),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function v(){return(v=Object(n.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Trying to send request"),e.prev=1,console.log("Trying"),e.next=5,p.post(d.a+"gymprofile/reports/csv/",{data:t,gym_id:u.get("gym_uuid")});case 5:return 200===(r=e.sent).status&&(console.log(r.data.data),x(r.data.data)),e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(1),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var w=Object(o.useState)(!1),_=Object(s.a)(w,2),S=(_[0],_[1],Object(o.useState)(!1)),N=Object(s.a)(S,2),k=(N[0],N[1],Object(o.useState)(!1)),T=Object(s.a)(k,2),C=(T[0],T[1],Object(o.useState)(!1)),E=Object(s.a)(C,2),F=(E[0],E[1],Object(o.useState)(!1)),J=Object(s.a)(F,2),M=(J[0],J[1],Object(o.useState)(!1)),P=Object(s.a)(M,2),q=(P[0],P[1],Object(o.useState)(!1)),A=Object(s.a)(q,2),R=(A[0],A[1],Object(o.useState)(!1)),B=Object(s.a)(R,2),D=(B[0],B[1],Object(o.useState)([])),I=Object(s.a)(D,2);I[0],I[1];return u.get("perms").includes("Reports")?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(l.wb,{children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"manage_top_btn rports-form-top",children:[Object(j.jsxs)(l.wb,{children:[Object(j.jsx)("div",{className:"col-md-5",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Start date :"}),Object(j.jsx)("input",{className:"form-control",id:"start_date",type:"date"})]})}),Object(j.jsx)("div",{className:"col-md-5",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"End date :"}),Object(j.jsx)("input",{className:"form-control",id:"end_date",type:"date"})]})}),Object(j.jsxs)("div",{className:"col-md-2",children:[Object(j.jsx)(l.f,{color:"primary bt-mr",onClick:function(){return g.apply(this,arguments)},children:"Generate Reports"})," "]}),Object(j.jsx)(l.u,{xs:"12",lg:"12",children:Object(j.jsxs)("div",{className:"reports-filter-btn",children:[Object(j.jsxs)(l.f,{color:"primary",onClick:function(){return f("prev")},children:[" ",c]}),Object(j.jsxs)(l.f,{color:"primary",onClick:function(){return f("2prev")},children:[" ",i]}),Object(j.jsxs)(l.f,{color:"primary",onClick:function(){return f("3prev")},children:[" ",b]})]})})]}),Object(j.jsx)(l.wb,{})]})}),Object(j.jsx)(l.u,{xs:"12",lg:"12",children:Object(j.jsx)(l.j,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage-table-main",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Total Revenue"}),Object(j.jsx)("th",{children:"Expenses"}),Object(j.jsx)("th",{children:"New user count"}),Object(j.jsx)("th",{children:"Profit/Loss"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:Object(j.jsxs)("tr",{children:[m.total_sales?Object(j.jsx)("td",{children:m.total_sales}):Object(j.jsx)("td",{children:"0"}),m.transactions?Object(j.jsx)("td",{children:m.transactions}):Object(j.jsx)("td",{children:"0"}),m.user_count?Object(j.jsx)("td",{children:m.user_count}):Object(j.jsx)("td",{children:"0"}),m.profit?Object(j.jsx)("td",{children:m.profit}):Object(j.jsx)("td",{children:"0"}),Object(j.jsx)(l.f,{color:"primary",onClick:function(){return function(e){return v.apply(this,arguments)}(m)},children:"Export to CSV"})," "]})})]})})})})})]})}):window.location.href="#/dashboard"}}}]);
//# sourceMappingURL=51.06f5eff9.chunk.js.map