(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[31],{795:function(e,s,t){"use strict";t.r(s);var c=t(664),l=t.n(c),n=t(665),a=t(659),r=t(2),i=t(666),o=t.n(i),d=t(657),j=(t(658),t(660)),b=t(661),u=t(24),m=new j.a;s.default=function(){var e=m.get("perms"),s=Object(r.useState)([]),c=Object(a.a)(s,2),i=c[0],j=c[1],p=Object(r.useState)([]),h=Object(a.a)(p,2),x=h[0],f=h[1],O=Object(r.useState)([]),g=Object(a.a)(O,2),_=g[0],v=g[1],y=Object(r.useState)([]),w=Object(a.a)(y,2),C=w[0],S=w[1],E=Object(r.useState)([]),k=Object(a.a)(E,2),I=k[0],A=k[1],B=t(662);Object(r.useEffect)((function(){B.get(b.a+"gymprofile/class/?gym_id="+m.get("gym_uuid")).then((function(e){console.log(e),j(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){B.get(b.a+"gymprofile/location/?gym="+m.get("gym_uuid")).then((function(e){console.log(e),f(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){B.get(b.a+"gymprofile/age_group/").then((function(e){console.log(e),v(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){B.get(b.a+"gymprofile/instructor/?gym_id="+m.get("gym_uuid")).then((function(e){console.log(e),S(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){B.get(b.a+"gymprofile/weekdays/").then((function(e){console.log(e),A(e.data)})).catch((function(e){console.log(e)}))}),[]);var T=Object(r.useState)(!1),N=Object(a.a)(T,2),V=(N[0],N[1],Object(r.useState)(!1)),D=Object(a.a)(V,2),P=(D[0],D[1],Object(r.useState)(!1)),F=Object(a.a)(P,2),L=(F[0],F[1],Object(r.useState)(!1)),J=Object(a.a)(L,2),q=J[0],z=J[1],Q=Object(r.useState)(!1),U=Object(a.a)(Q,2),G=U[0],M=U[1],R=Object(r.useState)(!1),H=Object(a.a)(R,2),K=(H[0],H[1],Object(r.useState)(!1)),W=Object(a.a)(K,2),X=(W[0],W[1],Object(r.useState)(!1)),Y=Object(a.a)(X,2),Z=(Y[0],Y[1],Object(r.useState)([])),$=Object(a.a)(Z,2),ee=$[0],se=$[1];function te(){return(te=Object(n.a)(l.a.mark((function e(s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.patch(b.a+"gymprofile/classes/"+s+"/",{is_active:!1,uuid:s}).then((function(e){console.log(e),se(e.data),window.location.reload()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(n.a)(l.a.mark((function e(s){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.patch(b.a+"gymprofile/classes/"+s+"/",{is_active:!0,uuid:s}).then((function(e){console.log(e),se(e.data),window.location.reload()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(n.a)(l.a.mark((function e(){var s,t,c,n,a,r,i,d,j,u,m,p,h,x,f,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.getElementById("class_topic").value,t=document.getElementById("class_description").value,c=document.querySelector("#class_image"),n=o()("#class_scheduled_on").val(),a=document.getElementById("start_time").value,r=document.getElementById("end_time").value,i=document.getElementById("instructor_info").value,d=document.getElementById("classes_age_group").value,j=document.getElementById("no_of_participants").value,u=document.getElementById("select_location").value,m=document.getElementById("uuid").value,p=document.getElementById("level").value,h=document.getElementById("update_class_expiry_date").value,(x=new FormData).append("class_topic",s),x.append("class_description",t),x.append("level",p),x.append("start_time",a),x.append("end_time",r),x.append("no_of_participants",j),x.append("instructor_info",i),x.append("classes_age_group",d),x.append("select_location",u),x.append("uuid",m),x.append("class_expiry_date",h),x.append("level",p),c.files[0]?x.append("class_image",c.files[0]):console.log("image not changed"),n)for(f=0;f<n.length;f++)x.append("class_scheduled_on",n[f]);return e.prev=28,console.log("Trying"),O={method:"patch",url:b.a+"gymprofile/classes/"+m+"/",headers:{"content-type":"multipart/form-data; boundary=".concat(x._boundary)},data:x},e.next=33,B(O).then((function(e){console.log(JSON.stringify(e.data)),200===e.status?window.location.reload():alert("BAD REQUEST")}));case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(28),console.error(e.t0);case 38:case"end":return e.stop()}}),e,null,[[28,35]])})))).apply(this,arguments)}function ne(){return(ne=Object(n.a)(l.a.mark((function e(s){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(s),console.log("Trying to send request"),e.prev=2,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=7,B.delete(b.a+"gymprofile/classes/"+s+"/",{uuid:s});case 7:return 200===(t=e.sent).status&&(console.log(t.status),console.log(t.data),window.location.reload()),e.abrupt("return",t.data);case 12:e.prev=12,e.t0=e.catch(2),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return e.includes("Product")?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(d.wb,{children:[Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsxs)("div",{className:"manage_top_btn",children:[Object(u.jsx)("div",{className:"manage-btn-left",children:Object(u.jsx)(d.Q,{to:"Addclass/Addclass",children:Object(u.jsxs)("button",{className:"mn_btn_1 mr-1",children:[Object(u.jsx)("i",{class:"fa fa-plus-circle","aria-hidden":"true"}),"Add new Class"]})})}),Object(u.jsxs)("div",{class:"btn-group group-btn-main",children:[Object(u.jsx)("button",{type:"button",class:"btn btn-primary",children:"All"}),Object(u.jsx)("button",{type:"button",class:"btn btn-success",children:"Adult"}),Object(u.jsx)("button",{type:"button",class:"btn btn-warning",children:"Teen"}),Object(u.jsx)("button",{type:"button",class:"btn btn-danger",children:"Children"})]})]})}),Object(u.jsx)(d.u,{xs:"12",lg:"12",children:Object(u.jsx)(d.j,{children:Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsx)("div",{className:"manage-table-main",children:Object(u.jsxs)("table",{class:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Title"}),Object(u.jsx)("th",{children:"Class time"}),Object(u.jsx)("th",{children:"No Of Participants"}),Object(u.jsx)("th",{children:"Instructor"}),Object(u.jsx)("th",{children:"Active"}),Object(u.jsx)("th",{children:"Action"})]})}),Object(u.jsx)("tbody",{children:i.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.class_topic}),Object(u.jsx)("td",{children:e.start_time+" TO "+e.end_time}),Object(u.jsx)("td",{children:e.no_of_participants}),Object(u.jsx)("td",{children:e.instructor_info}),Object(u.jsx)("td",{children:Object(u.jsxs)("label",{class:"switch",children:[1==e.is_active?Object(u.jsx)("input",{type:"checkbox",checked:!0,onChange:function(){return function(e){return te.apply(this,arguments)}(e.uuid)}}):Object(u.jsx)("input",{type:"checkbox",onChange:function(){return function(e){return ce.apply(this,arguments)}(e.uuid)}}),Object(u.jsx)("span",{class:"slider round"})]})}),Object(u.jsxs)("td",{children:[Object(u.jsx)(d.f,{color:"primary",onClick:function(){return s=e.uuid,M(!G),void B.get(b.a+"gymprofile/classes/"+s).then((function(e){console.log(e),se(e.data)}));var s},children:"Manage"})," ",Object(u.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return function(e){return ne.apply(this,arguments)}(e.uuid)},children:Object(u.jsx)("i",{class:"fa fa-trash-o","aria-hidden":"true"})})]})]})}))})]})})})})})]}),Object(u.jsxs)(d.gb,{show:q,onClose:z,size:"lg",children:[Object(u.jsx)(d.jb,{closeButton:!0,children:Object(u.jsx)(d.kb,{children:"Add new package"})}),Object(u.jsx)(d.hb,{children:Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Title ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"text",id:"title",name:"first_name",class:"form-control",value:""})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Title(Arabic)  ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"text",id:"title",name:"first_name",class:"form-control",value:""})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["No: of classes ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"text",id:"title",name:"first_name",class:"form-control",value:""})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Duration ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"text",id:"title",name:"first_name",class:"form-control",value:""})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Fees  ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"text",id:"title",name:"first_name",class:"form-control",value:""})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Slug  ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"text",id:"title",name:"first_name",class:"form-control",value:""})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"gender",children:["Is special ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsxs)("select",{id:"gender",name:"gender",class:"form-control",children:[Object(u.jsx)("option",{value:"",children:"Please select "}),Object(u.jsx)("option",{children:"1 "}),Object(u.jsx)("option",{children:"2 "})]})})]})})]})})}),Object(u.jsxs)(d.ib,{children:[Object(u.jsx)(d.f,{color:"primary",children:"Save"})," ",Object(u.jsx)(d.f,{color:"secondary",onClick:function(){return z(!1)},children:"Close"})]})]}),Object(u.jsxs)(d.gb,{show:G,onClose:M,size:"lg",children:[Object(u.jsx)(d.jb,{closeButton:!0,className:"add-user-modal",children:Object(u.jsx)(d.kb,{children:"Update Class"})}),Object(u.jsx)(d.hb,{children:Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Class Topic ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("input",{type:"text",id:"class_topic",defaultValue:ee.class_topic,name:"class_topic",class:"form-control"}),Object(u.jsx)("input",{type:"hidden",id:"uuid",name:"uuid",value:ee.uuid})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Class Description  ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("textarea",{type:"text",defaultValue:ee.class_description,id:"class_description",name:"class_description",class:"form-control"})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Class Image ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsxs)("label",{class:"hint form-label",for:"first_name",children:["Current Image - ",ee.class_image," "]}),Object(u.jsx)("input",{type:"file",id:"class_image",name:"class_image"})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Class Schedule ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsxs)("label",{class:"hint form-label",for:"first_name",children:["Current Schedule -",ee.class_scheduled_on," "]}),Object(u.jsx)("select",{name:"class_scheduled_on",class:"form-control",id:"class_scheduled_on",multiple:!0,children:I.map((function(e){return Object(u.jsx)("option",{value:e.uuid,children:e.day})}))})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Start Time  ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("input",{type:"time",defaultValue:ee.start_time,id:"start_time",name:"start_time",class:"form-control"})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["End Time  ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("input",{type:"time",defaultValue:ee.end_time,id:"end_time",name:"end_time",class:"form-control"})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Instructor",Object(u.jsx)("span",{class:"text-danger",children:" * "})]})," ",Object(u.jsxs)("label",{class:"hint form-label",for:"first_name",children:["Current - ",ee.instructor_info," "]}),Object(u.jsx)("select",{name:"instructor_info",defaultValue:ee.instructor_info,class:"form-control",id:"instructor_info",children:C.map((function(e){return Object(u.jsx)("option",{value:e.uuid,children:e.instructor_info})}))})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["Age Group",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsxs)("label",{class:"hint form-label",children:["Current - ",ee.classes_age_group]}),Object(u.jsx)("select",{name:"classes_age_group",class:"form-control",id:"classes_age_group",children:_.map((function(e){return Object(u.jsx)("option",{value:e.uuid,children:e.age})}))})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"first_name",children:["No of Participants",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("input",{type:"text",defaultValue:ee.no_of_participants,id:"no_of_participants",name:"no_of_participants",class:"form-control"})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsxs)("label",{class:"form-label",for:"gender",children:["Location ",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsxs)("label",{class:" hint form-label",for:"first_name",children:[" Current  - ",ee.select_location," "]}),Object(u.jsx)("select",{id:"select_location",name:"select_location",class:"form-control",children:x.map((function(e){return Object(u.jsx)("option",{value:e.uuid,children:e.gym_location})}))})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsx)("label",{class:"form-label",for:"first_name",children:"Class Expiry Date "}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsx)("input",{type:"date",defaultValue:ee.class_expiry_date,id:"update_class_expiry_date",name:"update_class_expiry_date",class:"form-control"})})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(u.jsxs)("label",{class:"form-label",for:"gender",children:["Level",Object(u.jsx)("span",{class:"text-danger",children:" * "})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{class:" hint form-label",for:"first_name",children:["Current - ",ee.level," "]}),Object(u.jsx)("span",{class:"desc"}),Object(u.jsx)("div",{class:"controls",children:Object(u.jsxs)("select",{id:"level",defaultValue:ee.level,name:"level",class:"form-control",children:[Object(u.jsx)("option",{value:"All Levels",children:"All Levels"}),Object(u.jsx)("option",{value:"Intermediate",children:"Intermediate"}),Object(u.jsx)("option",{value:"Advance",children:"Advance"})]})})]})})]})})}),Object(u.jsxs)(d.ib,{children:[Object(u.jsx)(d.f,{color:"primary",onClick:function(){return le.apply(this,arguments)},children:"Save"})," ",Object(u.jsx)(d.f,{color:"secondary",onClick:function(){return M(!1)},children:"Close"})]})]})]}):window.location.href="#/dashboard"}}}]);
//# sourceMappingURL=31.b1b7bc73.chunk.js.map