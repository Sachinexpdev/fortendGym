(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[47],{794:function(e,c,s){"use strict";s.r(c);var t=s(664),a=s.n(t),n=s(665),l=s(659),r=s(2),o=(s(666),s(657)),d=(s(658),s(660)),i=s(661),j=s(24),b=new d.a;console.log(b.get("gym_uuid"));c.default=function(){var e=Object(r.useState)(!1),c=Object(l.a)(e,2),t=(c[0],c[1],Object(r.useState)(!1)),d=Object(l.a)(t,2),u=(d[0],d[1],Object(r.useState)(!1)),p=Object(l.a)(u,2),g=(p[0],p[1],Object(r.useState)(!1)),O=Object(l.a)(g,2),x=O[0],m=O[1],h=Object(r.useState)(!1),f=Object(l.a)(h,2),v=f[0],_=f[1],k=Object(r.useState)(!1),y=Object(l.a)(k,2),w=(y[0],y[1],Object(r.useState)(!1)),S=Object(l.a)(w,2),I=(S[0],S[1],Object(r.useState)(!1)),E=Object(l.a)(I,2),N=(E[0],E[1],Object(r.useState)([])),B=Object(l.a)(N,2),P=B[0],C=B[1],F=Object(r.useState)([]),T=Object(l.a)(F,2),D=(T[0],T[1]),V=Object(r.useState)([]),A=Object(l.a)(V,2),q=(A[0],A[1]),z=s(662);Object(r.useEffect)((function(){z.get(i.a+"gymprofile/packages/?gym_id="+b.get("gym_uuid")).then((function(e){console.log(e),C(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){z.get(i.a+"gymprofile/class/").then((function(e){console.log(e),D(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(r.useEffect)((function(){z.get(i.a+"gymprofile/location/").then((function(e){console.log(e),q(e.data)})).catch((function(e){console.log(e)}))}),[]);var J=Object(r.useState)(["ffgyu","fghj"]),M=Object(l.a)(J,2),U=M[0],G=M[1];function H(){return(H=Object(n.a)(a.a.mark((function e(){var c,s,t,n,l,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=document.getElementById("package_name").value,s=document.getElementById("package_description").value,t=document.getElementById("package_duration").value,n=document.getElementById("package_price").value,l=document.getElementById("classes").value,r=b.get("gym_uuid"),console.log("Trying to send request"),e.prev=7,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=12,z.post(i.a+"gymprofile/packages/",{package_name:c,package_description:s,package_duration:t,package_price:n,class_passes:l,gym:r});case 12:return 200===(o=e.sent).status&&(console.log(o.status),console.log(o.data),window.location.reload()),e.abrupt("return",o.data);case 17:e.prev=17,e.t0=e.catch(7),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))).apply(this,arguments)}function K(){return(K=Object(n.a)(a.a.mark((function e(){var c,s,t,n,l,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=document.getElementById("update_package_name").value,s=document.getElementById("update_package_description").value,t=document.getElementById("update_package_duration").value,n=document.getElementById("update_package_price").value,l=document.getElementById("update_classes").value,r=document.getElementById("update_uuid").value,console.log("Trying to send request"),e.prev=7,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=12,z.patch(i.a+"gymprofile/packages/"+r+"/",{package_name:c,package_description:s,package_duration:t,package_price:n,class_passes:l,uuid:r});case 12:return 200===(o=e.sent).status&&(console.log(o.status),console.log(o.data),window.location.reload()),e.abrupt("return",o.data);case 17:e.prev=17,e.t0=e.catch(7),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,17]])})))).apply(this,arguments)}function L(){return(L=Object(n.a)(a.a.mark((function e(c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),console.log("Trying to send request"),e.prev=2,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=7,z.delete(i.a+"gymprofile/packages/"+c+"/",{uuid:c});case 7:return 200===(s=e.sent).status&&(console.log(s.status),console.log(s.data),window.location.reload()),e.abrupt("return",s.data);case 12:e.prev=12,e.t0=e.catch(2),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}return b.get("perms").includes("Packages")?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(o.wb,{children:[Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsxs)("div",{className:"manage_top_btn",children:[Object(j.jsx)("div",{className:"manage-btn-left",children:Object(j.jsxs)("button",{className:"mn_btn_1 mr-1",onClick:function(){return m(!x)},children:[" ",Object(j.jsx)("i",{class:"fa fa-plus-circle","aria-hidden":"true"})," Add new package "]})}),Object(j.jsxs)("div",{class:"btn-group group-btn-main",children:[Object(j.jsx)("button",{type:"button",class:"btn btn-success",children:"Active"}),Object(j.jsx)("button",{type:"button",class:"btn btn-danger",children:"Inactive"})]})]})}),Object(j.jsx)(o.u,{xs:"12",lg:"12",children:Object(j.jsx)(o.j,{children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"manage-table-main",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Package"}),Object(j.jsx)("th",{children:"No. of classes"}),Object(j.jsx)("th",{children:"Package Duration (In weeks)"}),Object(j.jsx)("th",{children:"Fees"}),Object(j.jsx)("th",{children:"Status"}),Object(j.jsx)("th",{children:"Action"})]})}),Object(j.jsx)("tbody",{children:P.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.package_name}),Object(j.jsx)("td",{children:e.class_passes}),Object(j.jsx)("td",{children:e.package_duration}),Object(j.jsx)("td",{children:e.package_price}),Object(j.jsx)("td",{children:Object(j.jsxs)("label",{class:"switch",children:[Object(j.jsx)("input",{type:"checkbox"}),Object(j.jsx)("span",{class:"slider round"})]})}),Object(j.jsxs)("td",{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return c=e.uuid,_(!v),void z.get(i.a+"gymprofile/packages/"+c).then((function(e){console.log(e),G(e.data)}));var c},children:"Manage"})," ",Object(j.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return function(e){return L.apply(this,arguments)}(e.uuid)},children:Object(j.jsx)("i",{class:"fa fa-trash-o","aria-hidden":"true"})})]})]})}))})]})})})})})]}),Object(j.jsxs)(o.gb,{show:x,onClose:m,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Add new package"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"col-md-12",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"package_name",children:["Package Name ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"package_name",name:"package_name",class:"form-control"})})]})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)("div",{class:"form-group ",children:[Object(j.jsx)("label",{class:"form-label",for:"package_description",children:" Package Description "}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("textarea",{class:"form-control",id:"package_description",name:"package_description",rows:"1"})})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"package_name",children:["Package Duration(In weeks) ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"package_duration",name:"package_duration",class:"form-control"})})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"first_name",children:["Fees  ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"package_price",name:"package_price",class:"form-control"})})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"first_name",children:["classes ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"classes",name:"classes",class:"form-control"})})]})})]})})}),Object(j.jsx)(o.ib,{children:Object(j.jsxs)("div",{className:"col-md-12 text-center",children:[Object(j.jsx)(o.f,{onClick:function(){return H.apply(this,arguments)},color:"primary",children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return m(!1)},children:"Close"})]})})]}),Object(j.jsxs)(o.gb,{show:v,onClose:_,size:"lg",children:[Object(j.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(j.jsx)(o.kb,{children:"Update Package"})}),Object(j.jsx)(o.hb,{children:Object(j.jsx)("div",{class:"card-body",children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"update_package_name",children:["Package Name ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsxs)("div",{class:"controls",children:[Object(j.jsx)("input",{type:"text",id:"update_package_name",defaultValue:U.package_name,name:"update_package_name",class:"form-control"}),Object(j.jsx)("input",{type:"hidden",id:"update_uuid",name:"update_uuid",value:U.uuid})]})]})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)("div",{class:"form-group ",children:[Object(j.jsx)("label",{class:"form-label",for:"package_description",children:" Package Description "}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("textarea",{class:"form-control",id:"update_package_description",defaultValue:U.package_description,name:"update_package_description",rows:"1"})})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"update_package_duration",children:["Package Duration(In weeks) ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"update_package_duration",defaultValue:U.package_duration,name:"update_package_duration",class:"form-control"})})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"first_name",children:["Fees  ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"update_package_price",defaultValue:U.package_price,name:"update_package_price",class:"form-control"})})]})}),Object(j.jsx)("div",{class:"col-sm-6",children:Object(j.jsxs)("div",{class:"form-group border-bottom-0 ",children:[Object(j.jsxs)("label",{class:"form-label",for:"first_name",children:["Classes ",Object(j.jsx)("span",{class:"text-danger",children:" * "})]}),Object(j.jsx)("span",{class:"desc"}),Object(j.jsx)("div",{class:"controls",children:Object(j.jsx)("input",{type:"text",id:"update_classes",defaultValue:U.class_passes,name:"update_classes",class:"form-control"})})]})})]})})}),Object(j.jsxs)(o.ib,{children:[Object(j.jsx)(o.f,{color:"primary",onClick:function(){return K.apply(this,arguments)},children:"Save"})," ",Object(j.jsx)(o.f,{color:"secondary",onClick:function(){return _(!1)},children:"Close"})]})]})]}):window.location.href="#/dashboard"}}}]);
//# sourceMappingURL=47.7948a74a.chunk.js.map