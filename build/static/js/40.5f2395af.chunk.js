(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[40],{807:function(e,t,c){"use strict";c.r(t);var n=c(664),s=c.n(n),a=c(665),r=c(659),i=c(2),o=c(657),l=(c(658),c(661)),d=c(660),u=c(24),j=new d.a;console.log(j.get("gym_uuid"));t.default=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=(t[0],t[1],Object(i.useState)(!1)),d=Object(r.a)(n,2),b=(d[0],d[1],Object(i.useState)(!1)),h=Object(r.a)(b,2),O=(h[0],h[1],Object(i.useState)(!1)),m=Object(r.a)(O,2),p=m[0],f=m[1],x=Object(i.useState)(!1),g=Object(r.a)(x,2),v=g[0],y=g[1],_=Object(i.useState)(!1),w=Object(r.a)(_,2),S=(w[0],w[1],Object(i.useState)(!1)),k=Object(r.a)(S,2),z=(k[0],k[1],Object(i.useState)(!1)),N=Object(r.a)(z,2),C=(N[0],N[1],Object(i.useState)([])),I=Object(r.a)(C,2),B=I[0],E=I[1],T=Object(i.useState)([]),F=Object(r.a)(T,2),J=F[0],q=F[1],P=c(662);Object(i.useEffect)((function(){P.get(l.a+"gymprofile/instructor/?gym_id="+j.get("gym_uuid")).then((function(e){console.log(e),E(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(i.useEffect)((function(){P.get(l.a+"user/?gym_id="+j.get("gym_uuid")).then((function(e){console.log(e),q(e.data)})).catch((function(e){console.log(e)}))}),[]);var V=Object(i.useState)([]),A=Object(r.a)(V,2),D=A[0],M=A[1];function U(){return(U=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("instructor_name").value,document.getElementById("specialization").value,j.get("gym_uuid"),console.log("Trying to send request"),e.prev=4,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=9,P.post(l.a+"gymprofile/dash/",{gym_id:"c29e1f29-b06c-4852-ba41-930528196fe6",start_date:"2021-01-10",end_date:"2021-04-10"});case 9:return 200===(t=e.sent).status&&(console.log(t.status),console.log(t.data),window.location.reload()),e.abrupt("return",t.data);case 14:e.prev=14,e.t0=e.catch(4),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function G(){return(G=Object(a.a)(s.a.mark((function e(){var t,c,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("update_instructor_info").value,c=document.getElementById("update_specialization").value,n=j.get("gym_uuid"),a=document.getElementById("update_uuid").value,console.log("Trying to send request"),e.prev=5,'<div><div class="loader centered"/></div>',console.log("Trying"),e.next=10,P.patch(l.a+"gymprofile/instructor/"+a+"/",{instructor_info:t,instructor_specializaton:c,gym:n});case 10:return 200===(r=e.sent).status&&(console.log(r.status),console.log(r.data),window.location.reload()),e.abrupt("return",r.data);case 15:e.prev=15,e.t0=e.catch(5),console.error("Signup Failed , Please try again."),window.location.reload(),alert(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}return j.get("perms").includes("Instructor")?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(o.wb,{children:[Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsx)("div",{className:"manage_top_btn",children:Object(u.jsx)("div",{className:"manage-btn-left"})})}),Object(u.jsx)(o.u,{xs:"12",lg:"12",children:Object(u.jsx)(o.j,{children:Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsx)("div",{className:"manage-table-main",children:Object(u.jsxs)("table",{class:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Instructor Name"}),Object(u.jsx)("th",{children:"Date Joined"}),Object(u.jsx)("th",{children:"Specialization"})]})}),Object(u.jsx)("tbody",{children:B.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.instructor_info}),Object(u.jsx)("td",{children:e.created_at}),Object(u.jsx)("td",{children:e.instructor_specializaton}),Object(u.jsxs)("td",{children:[Object(u.jsx)(o.f,{color:"primary",onClick:function(){return t=e.uuid,y(!v),void P.get(l.a+"gymprofile/instructor/"+t).then((function(e){console.log(e),M(e.data)}));var t},children:"Manage"})," ",Object(u.jsx)("a",{href:"#/base/Insbookings",onClick:function(){return j.set("ins",e.uuid,{path:"/"})},children:Object(u.jsx)("button",{class:"btn btn-primary user-bookings",children:"Bookings"})})]})]})}))})]})})})})})]}),Object(u.jsxs)(o.gb,{show:p,onClose:f,size:"lg",children:[Object(u.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(u.jsx)(o.kb,{children:"Add Instructor"})}),Object(u.jsx)(o.hb,{children:Object(u.jsx)("div",{class:"col-md-12",children:Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the Instructor"}),Object(u.jsx)("select",{id:"instructor_name",class:"form-control",children:J.map((function(e){return Object(u.jsxs)("option",{value:e.uuid,children:[" ",e.first_name," "]})}))})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{class:"form-label",for:"date_paid",children:"Specialization"}),Object(u.jsx)("input",{type:"text",id:"specialization",name:"specialization",class:"form-control"})]})})]})})}),Object(u.jsx)(o.ib,{children:Object(u.jsxs)("div",{className:"col-md-12 text-center",children:[Object(u.jsx)(o.f,{color:"primary",onClick:function(){return U.apply(this,arguments)},children:"Save"})," ",Object(u.jsx)(o.f,{color:"secondary",onClick:function(){return f(!1)},children:"Close"})]})})]}),Object(u.jsxs)(o.gb,{show:v,onClose:y,size:"lg",children:[Object(u.jsx)(o.jb,{closeButton:!0,className:"add-user-modal",children:Object(u.jsx)(o.kb,{children:"Update Expense"})}),Object(u.jsx)(o.hb,{children:Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{class:"form-label",for:"expense_name",children:"Name of the instructor"}),Object(u.jsx)("select",{id:"update_instructor_info",class:"form-control",children:J.map((function(e){return Object(u.jsxs)("option",{defaultValue:D.instructor_info,value:e.uuid,children:[" ",e.first_name," "]})}))}),Object(u.jsx)("input",{type:"hidden",value:D.uuid,id:"update_uuid"})]})}),Object(u.jsx)("div",{class:"col-sm-6",children:Object(u.jsxs)("div",{class:"form-group",children:[Object(u.jsx)("label",{class:"form-label",for:"date_paid",children:"Specialization "}),Object(u.jsx)("input",{type:"text",id:"update_specialization",defaultValue:D.instructor_specializaton,name:"update_date_paid",class:"form-control"})]})})]})})}),Object(u.jsxs)(o.ib,{children:[Object(u.jsx)(o.f,{color:"primary",onClick:function(){return G.apply(this,arguments)},children:"Save"})," ",Object(u.jsx)(o.f,{color:"secondary",onClick:function(){return y(!1)},children:"Close"})]})]})]}):window.location.href="#/dashboard"}}}]);
//# sourceMappingURL=40.5f2395af.chunk.js.map