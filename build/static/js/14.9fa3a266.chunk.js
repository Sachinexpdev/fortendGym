(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{702:function(e,t,n){"use strict";t.a=[{title:"Packages",id:"1"},{title:"Dashboard",id:"2"},{title:"CRM",id:"3"},{title:"Product",id:"4"},{title:"Instructor",id:"5"},{title:"Bookings",id:"6"},{title:"Billing",id:"7"},{title:"Expenses",id:"8"},{title:"Reports",id:"9"},{title:"Billing",id:"10"},{title:"Holidays",id:"11"},{title:"Calender",id:"12"},{title:"Membership",id:"13"},{title:"Users",id:"14"},{title:"Gymprofile",id:"15"}]},820:function(e,t,n){"use strict";n.r(t);var i=n(664),r=n.n(i),s=n(665),a=n(180),o=n(181),c=n(183),l=n(182),d=n(2),u=n.n(d),p=n(666),h=n.n(p),b=n(660),j=n(661),m=n(702),f=n(24),v=new b.a,g=n(662),x=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={workflows:[],user_groups:[],section_wise_permissions:[],users:[],user_roles:[]},i}return Object(o.a)(n,[{key:"AddWorkFlow",value:function(){var e=j.a+"user/roles/permissions/?gym="+v.get("gym_uuid"),t=document.getElementById("section").value,n=h()("#roles").val(),i=0;if((n.includes("Verifier")||n.includes("Authorizer"))&&(n.includes("Initiator")&&n.includes("Approver")||(i=1)),n.includes("Initiator")&&(n.includes("Approver")||(i=1)),1===i&&alert("Initiator and Approver is Mandatory when you have verifier or authorizer"),1!==i){var r={url:e,method:"post",headers:{Authorization:"Bearer ","Content-Type":"application/json"},data:{base_wallet:v.get("wallet_id"),section:t,user_roles:n}};g(r).then((function(e){alert(e.data.message),window.location.reload()})).catch((function(e){}))}}},{key:"AddPerMissionsGroup",value:function(){var e=j.a+"user/roles/permissions/",t=new Array,n=document.getElementById("perm_grp_role").value;m.a.map((function(e){h()("#"+e.id).is(":checked")&&t.push(e.id)})),g({url:e,method:"post",data:{permissions:t,role:n}}).then((function(e){alert(e.data.message),window.location.reload()})).catch((function(e){}))}},{key:"componentDidMount",value:function(){var e=this,t=j.a+"wallet/section_workflow/?wallet_id="+v.get("wallet_id");g({url:t,method:"get",headers:{Authorization:"Bearer ","Content-Type":"application/json"}}).then((function(t){e.setState({workflows:t.data.data})})).catch((function(e){}));var n={method:"get",url:j.a+"user/roles/permissions/?gym="+v.get("gym_uuid")};g(n).then((function(t){console.log(t),e.setState({user_groups:t.data})})).catch((function(e){}))}},{key:"AddNew",value:function(){h()("#group_name").is("select")?(document.getElementById("grp_div").innerHTML="",document.getElementById("grp_div").innerHTML='<input type="text" id="group_name" className="form-control"/>',h()("#change_btn").html("Select from list")):window.location.reload()}},{key:"RemoveWorkflow",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.a+"wallet/work_flow_detail/"+t,e.next=3,g.delete(n);case 3:e.sent.status;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"signup_form",children:[Object(f.jsx)("h3",{children:"Add WorkFlow"}),Object(f.jsx)("div",{className:"alredy_ac text-center"}),Object(f.jsx)("button",{class:"nav nav-tabs buytabs01 row",role:"presentation",children:Object(f.jsx)("a",{href:"#home","aria-controls":"home",role:"tab","data-toggle":"tab",children:Object(f.jsxs)("span",{class:"btnz2",children:[Object(f.jsx)("i",{class:"fa fa-plus-square","aria-hidden":"true"})," Add Permission Group"]})})}),Object(f.jsx)("div",{class:"tab-content rent-tabs-content",children:Object(f.jsxs)("div",{role:"tabpanel",class:"tab-pane",id:"home",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:Object(f.jsx)("h3",{children:"Group Info"})}),Object(f.jsx)("div",{class:"col-md-4 col-sm-4 col-xs-12",children:Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{for:"sel1",children:"Role Name"}),Object(f.jsx)("button",{id:"change_btn",class:"click_btn",onClick:function(){return e.AddNew()},children:"New Role"}),Object(f.jsx)("div",{id:"grp_div",children:Object(f.jsx)("select",{id:"group_name",class:"form-control",children:this.state.user_groups.map((function(e){return Object(f.jsx)("option",{children:e.for_role})}))})})]})}),Object(f.jsx)("h4",{children:"Add Permissions"}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{class:"row text-center",children:m.a.map((function(e){return Object(f.jsx)("div",{className:"col-xs-4",children:Object(f.jsxs)("label",{className:"container_signup",children:[e.title,Object(f.jsx)("input",{id:e.id,value:e.title,type:"checkbox"}),Object(f.jsx)("span",{className:"checkmark"})]})})}))}),Object(f.jsx)("div",{class:"text-center toppad-20",children:Object(f.jsx)("button",{class:"btn btnz btn-info btn-lg",onClick:this.AddPerMissionsGroup,children:"Add Group"})})]})})]})}}]),n}(u.a.Component);t.default=x}}]);
//# sourceMappingURL=14.9fa3a266.chunk.js.map